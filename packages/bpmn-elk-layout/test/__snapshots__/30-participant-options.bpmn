<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="definitions_participant_options" targetNamespace="http://example.com/test-participant-options" exporter="ELK-BPMN Test Generator" exporterVersion="1.0">
  <bpmn:message id="msg_request" name="服务请求" />
  <bpmn:message id="msg_response" name="服务响应" />
  <bpmn:collaboration id="collaboration_participant_options" name="参与者选项测试">
    <bpmn:participant id="participant_client" name="客户端" processRef="process_client">
      <bpmn:participantMultiplicity minimum="1" maximum="10" />
    </bpmn:participant>
    <bpmn:participant id="participant_server" name="服务器" processRef="process_server">
      <bpmn:participantMultiplicity minimum="3" maximum="3" />
    </bpmn:participant>
    <bpmn:participant id="participant_external_closed" name="外部系统 (封闭)" processRef="Process_participant_external_closed" />
    <bpmn:participant id="participant_partner_open" name="合作伙伴 (开放)" processRef="Process_participant_partner_open" />
    <bpmn:participant id="participant_multi_unlimited" name="无限实例池" processRef="Process_participant_multi_unlimited">
      <bpmn:participantMultiplicity maximum="-1" />
    </bpmn:participant>
    <bpmn:participant id="participant_single_instance" name="单实例池" processRef="Process_participant_single_instance">
      <bpmn:participantMultiplicity minimum="1" />
    </bpmn:participant>
    <bpmn:messageFlow id="msgflow_request" name="服务请求" sourceRef="client_send_request" targetRef="server_start" messageRef="msg_request" />
    <bpmn:messageFlow id="msgflow_response" name="服务响应" sourceRef="server_send_response" targetRef="client_wait_response" messageRef="msg_response" />
    <bpmn:messageFlow id="msgflow_to_external" name="外部调用" sourceRef="server_process" targetRef="participant_external_closed" />
    <bpmn:messageFlow id="msgflow_from_external" name="外部响应" sourceRef="participant_external_closed" targetRef="server_process" />
    <bpmn:messageFlow id="msgflow_to_partner" name="通知合作伙伴" sourceRef="client_process_response" targetRef="participant_partner_open" />
  </bpmn:collaboration>
  <bpmn:process id="process_client" name="客户端" isExecutable="true">
    <bpmn:startEvent id="client_start" name="开始">
      <bpmn:outgoing>client_flow_1</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sendTask id="client_send_request" name="发送请求" messageRef="msg_request">
      <bpmn:incoming>client_flow_1</bpmn:incoming>
      <bpmn:outgoing>client_flow_2</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:intermediateCatchEvent id="client_wait_response" name="等待响应">
      <bpmn:incoming>client_flow_2</bpmn:incoming>
      <bpmn:outgoing>client_flow_3</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="msg_response" />
    </bpmn:intermediateCatchEvent>
    <bpmn:task id="client_process_response" name="处理响应">
      <bpmn:incoming>client_flow_3</bpmn:incoming>
      <bpmn:outgoing>client_flow_4</bpmn:outgoing>
    </bpmn:task>
    <bpmn:endEvent id="client_end" name="结束">
      <bpmn:incoming>client_flow_4</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="client_flow_1" sourceRef="client_start" targetRef="client_send_request" />
    <bpmn:sequenceFlow id="client_flow_2" sourceRef="client_send_request" targetRef="client_wait_response" />
    <bpmn:sequenceFlow id="client_flow_3" sourceRef="client_wait_response" targetRef="client_process_response" />
    <bpmn:sequenceFlow id="client_flow_4" sourceRef="client_process_response" targetRef="client_end" />
  </bpmn:process>
  <bpmn:process id="process_server" name="服务器" isExecutable="true">
    <bpmn:startEvent id="server_start" name="收到请求">
      <bpmn:outgoing>server_flow_1</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="msg_request" />
    </bpmn:startEvent>
    <bpmn:serviceTask id="server_process" name="处理请求">
      <bpmn:incoming>server_flow_1</bpmn:incoming>
      <bpmn:outgoing>server_flow_2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sendTask id="server_send_response" name="发送响应" messageRef="msg_response">
      <bpmn:incoming>server_flow_2</bpmn:incoming>
      <bpmn:outgoing>server_flow_3</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:endEvent id="server_end" name="结束">
      <bpmn:incoming>server_flow_3</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="server_flow_1" sourceRef="server_start" targetRef="server_process" />
    <bpmn:sequenceFlow id="server_flow_2" sourceRef="server_process" targetRef="server_send_response" />
    <bpmn:sequenceFlow id="server_flow_3" sourceRef="server_send_response" targetRef="server_end" />
  </bpmn:process>
  <bpmn:process id="Process_participant_external_closed" name="外部系统 (封闭)" isExecutable="true" />
  <bpmn:process id="Process_participant_partner_open" name="合作伙伴 (开放)" isExecutable="true" />
  <bpmn:process id="Process_participant_multi_unlimited" name="无限实例池" isExecutable="true" />
  <bpmn:process id="Process_participant_single_instance" name="单实例池" isExecutable="true" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_definitions_participant_options" name="BPMNDiagram">
    <bpmndi:BPMNPlane id="BPMNPlane_definitions_participant_options" bpmnElement="collaboration_participant_options">
      <bpmndi:BPMNShape id="collaboration_participant_options_di" bpmnElement="collaboration_participant_options">
        <dc:Bounds x="12" y="12" width="661" height="652" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="participant_client_di" bpmnElement="participant_client" isHorizontal="true">
        <dc:Bounds x="0" y="-474.33333333333337" width="649" height="253" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="0" y="-474.33333333333337" width="98" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="process_client_di" bpmnElement="process_client">
        <dc:Bounds x="130" y="-422.33333333333337" width="432" height="149" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="client_start_di" bpmnElement="client_start">
        <dc:Bounds x="142" y="-343.33333333333337" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="145" y="-303.33333333333337" width="30" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="client_send_request_di" bpmnElement="client_send_request">
        <dc:Bounds x="198" y="-365.33333333333337" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="198" y="-365.33333333333337" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="client_wait_response_di" bpmnElement="client_wait_response">
        <dc:Bounds x="318" y="-388.33333333333337" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="308" y="-348.33333333333337" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="client_process_response_di" bpmnElement="client_process_response">
        <dc:Bounds x="394" y="-410.33333333333337" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="394" y="-410.33333333333337" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="client_end_di" bpmnElement="client_end">
        <dc:Bounds x="514" y="-401.6666666666667" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="517" y="-361.6666666666667" width="30" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="participant_server_di" bpmnElement="participant_server" isHorizontal="true">
        <dc:Bounds x="0" y="-221.33333333333337" width="649" height="221.33333333333334" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="0" y="-221.33333333333337" width="98" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="process_server_di" bpmnElement="process_server">
        <dc:Bounds x="130" y="-169.33333333333337" width="376" height="117.33333333333334" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="server_start_di" bpmnElement="server_start">
        <dc:Bounds x="142" y="-122.00000000000003" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="132" y="-82.00000000000003" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="server_process_di" bpmnElement="server_process">
        <dc:Bounds x="218" y="-157.33333333333337" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="218" y="-157.33333333333337" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="server_send_response_di" bpmnElement="server_send_response">
        <dc:Bounds x="338" y="-144.00000000000003" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="338" y="-144.00000000000003" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="server_end_di" bpmnElement="server_end">
        <dc:Bounds x="458" y="-136.66666666666669" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="461" y="-96.66666666666669" width="30" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="participant_external_closed_di" bpmnElement="participant_external_closed" isHorizontal="true">
        <dc:Bounds x="0" y="0" width="649" height="160" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="0" y="0" width="105" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="participant_partner_open_di" bpmnElement="participant_partner_open" isHorizontal="true">
        <dc:Bounds x="0" y="160" width="649" height="160" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="0" y="160" width="105" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="participant_multi_unlimited_di" bpmnElement="participant_multi_unlimited" isHorizontal="true">
        <dc:Bounds x="0" y="320" width="649" height="160" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="0" y="320" width="119" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="participant_single_instance_di" bpmnElement="participant_single_instance" isHorizontal="true">
        <dc:Bounds x="0" y="480" width="649" height="160" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="0" y="480" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="client_flow_1_di" bpmnElement="client_flow_1">
        <di:waypoint x="178" y="-325.33333333333337" />
        <di:waypoint x="198" y="-325.33333333333337" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="client_flow_2_di" bpmnElement="client_flow_2">
        <di:waypoint x="298" y="-338.6666666666667" />
        <di:waypoint x="308" y="-338.6666666666667" />
        <di:waypoint x="308" y="-364.33333333333337" />
        <di:waypoint x="318" y="-364.33333333333337" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="client_flow_3_di" bpmnElement="client_flow_3">
        <di:waypoint x="354" y="-370.33333333333337" />
        <di:waypoint x="394" y="-370.33333333333337" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="client_flow_4_di" bpmnElement="client_flow_4">
        <di:waypoint x="494" y="-383.6666666666667" />
        <di:waypoint x="514" y="-383.6666666666667" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="server_flow_1_di" bpmnElement="server_flow_1">
        <di:waypoint x="178" y="-104.00000000000003" />
        <di:waypoint x="218" y="-104.00000000000003" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="server_flow_2_di" bpmnElement="server_flow_2">
        <di:waypoint x="318" y="-104.00000000000003" />
        <di:waypoint x="338" y="-104.00000000000003" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="server_flow_3_di" bpmnElement="server_flow_3">
        <di:waypoint x="438" y="-117.33333333333337" />
        <di:waypoint x="448" y="-117.33333333333337" />
        <di:waypoint x="448" y="-118.6666666666667" />
        <di:waypoint x="458" y="-118.6666666666667" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="msgflow_request_di" bpmnElement="msgflow_request">
        <di:waypoint x="248" y="-285.33333333333337" />
        <di:waypoint x="248" y="-246.33333333333337" />
        <di:waypoint x="160" y="-246.33333333333337" />
        <di:waypoint x="160" y="-122.00000000000003" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="105" y="-191.16666666666669" width="50" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="msgflow_response_di" bpmnElement="msgflow_response">
        <di:waypoint x="388" y="-144.00000000000003" />
        <di:waypoint x="388" y="-342.33333333333337" />
        <di:waypoint x="336" y="-342.33333333333337" />
        <di:waypoint x="336" y="-352.33333333333337" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="333" y="-250.16666666666669" width="50" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="msgflow_to_external_di" bpmnElement="msgflow_to_external">
        <di:waypoint x="268" y="-77.33333333333337" />
        <di:waypoint x="268" y="0" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="213" y="-45.666666666666686" width="50" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="msgflow_from_external_di" bpmnElement="msgflow_from_external">
        <di:waypoint x="268" y="0" />
        <di:waypoint x="268" y="-77.33333333333337" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="213" y="-25.666666666666686" width="50" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="msgflow_to_partner_di" bpmnElement="msgflow_to_partner">
        <di:waypoint x="444" y="-330.33333333333337" />
        <di:waypoint x="444" y="-315.33333333333337" />
        <di:waypoint x="519" y="-315.33333333333337" />
        <di:waypoint x="519" y="145" />
        <di:waypoint x="444" y="145" />
        <di:waypoint x="444" y="160" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="464" y="-92.16666666666669" width="50" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
