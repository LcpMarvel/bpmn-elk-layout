<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="definitions_link_events" targetNamespace="http://example.com/test-link-events" exporter="ELK-BPMN Test Generator" exporterVersion="1.0">
  <bpmn:process id="process_link_events" name="Link事件测试" isExecutable="true">
    <bpmn:startEvent id="start_1" name="开始">
      <bpmn:outgoing>flow_start</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:receiveTask id="task_receive_order" name="接收订单">
      <bpmn:incoming>flow_start</bpmn:incoming>
      <bpmn:outgoing>flow_to_gateway</bpmn:outgoing>
    </bpmn:receiveTask>
    <bpmn:exclusiveGateway id="gateway_order_type" name="订单类型" gatewayDirection="Diverging">
      <bpmn:incoming>flow_to_gateway</bpmn:incoming>
      <bpmn:outgoing>flow_standard</bpmn:outgoing>
      <bpmn:outgoing>flow_express</bpmn:outgoing>
      <bpmn:outgoing>flow_vip</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="task_standard_process" name="标准处理">
      <bpmn:incoming>flow_standard</bpmn:incoming>
      <bpmn:outgoing>flow_standard_to_link</bpmn:outgoing>
    </bpmn:task>
    <bpmn:intermediateThrowEvent id="throw_link_to_approval" name="跳转到审批">
      <bpmn:incoming>flow_standard_to_link</bpmn:incoming>
      <bpmn:linkEventDefinition name="link_approval" />
    </bpmn:intermediateThrowEvent>
    <bpmn:task id="task_express_process" name="加急处理">
      <bpmn:incoming>flow_express</bpmn:incoming>
      <bpmn:outgoing>flow_express_to_link</bpmn:outgoing>
    </bpmn:task>
    <bpmn:intermediateThrowEvent id="throw_link_to_shipping" name="跳转到发货">
      <bpmn:incoming>flow_express_to_link</bpmn:incoming>
      <bpmn:linkEventDefinition name="link_shipping" />
    </bpmn:intermediateThrowEvent>
    <bpmn:task id="task_vip_process" name="VIP处理">
      <bpmn:incoming>flow_vip</bpmn:incoming>
      <bpmn:outgoing>flow_vip_to_link</bpmn:outgoing>
    </bpmn:task>
    <bpmn:intermediateThrowEvent id="throw_link_to_complete" name="跳转到完成">
      <bpmn:incoming>flow_vip_to_link</bpmn:incoming>
      <bpmn:linkEventDefinition name="link_complete" />
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateCatchEvent id="catch_link_approval" name="审批入口">
      <bpmn:outgoing>flow_catch_approval</bpmn:outgoing>
      <bpmn:linkEventDefinition name="link_approval" />
    </bpmn:intermediateCatchEvent>
    <bpmn:userTask id="task_approval" name="人工审批">
      <bpmn:incoming>flow_catch_approval</bpmn:incoming>
      <bpmn:outgoing>flow_approval_to_link</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:intermediateThrowEvent id="throw_link_from_approval" name="审批后跳转发货">
      <bpmn:incoming>flow_approval_to_link</bpmn:incoming>
      <bpmn:linkEventDefinition name="link_shipping" />
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateCatchEvent id="catch_link_shipping" name="发货入口">
      <bpmn:outgoing>flow_catch_shipping</bpmn:outgoing>
      <bpmn:linkEventDefinition name="link_shipping" />
    </bpmn:intermediateCatchEvent>
    <bpmn:serviceTask id="task_shipping" name="安排发货">
      <bpmn:incoming>flow_catch_shipping</bpmn:incoming>
      <bpmn:outgoing>flow_shipping_notify</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sendTask id="task_notify" name="发送通知">
      <bpmn:incoming>flow_shipping_notify</bpmn:incoming>
      <bpmn:outgoing>flow_notify_to_link</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:intermediateThrowEvent id="throw_link_to_complete_2" name="跳转到完成">
      <bpmn:incoming>flow_notify_to_link</bpmn:incoming>
      <bpmn:linkEventDefinition name="link_complete" />
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateCatchEvent id="catch_link_complete" name="完成入口">
      <bpmn:outgoing>flow_catch_complete</bpmn:outgoing>
      <bpmn:linkEventDefinition name="link_complete" />
    </bpmn:intermediateCatchEvent>
    <bpmn:task id="task_finalize" name="最终处理">
      <bpmn:incoming>flow_catch_complete</bpmn:incoming>
      <bpmn:outgoing>flow_finalize_end</bpmn:outgoing>
    </bpmn:task>
    <bpmn:endEvent id="end_1" name="结束">
      <bpmn:incoming>flow_finalize_end</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:intermediateThrowEvent id="throw_link_multi_target_1" name="多目标链接A">
      <bpmn:linkEventDefinition name="link_multi_target" />
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateCatchEvent id="catch_link_multi_target" name="多源链接接收">
      <bpmn:outgoing>flow_catch_multi</bpmn:outgoing>
      <bpmn:linkEventDefinition name="link_multi_target" />
    </bpmn:intermediateCatchEvent>
    <bpmn:task id="task_multi_handler" name="统一处理">
      <bpmn:incoming>flow_catch_multi</bpmn:incoming>
    </bpmn:task>
    <bpmn:sequenceFlow id="flow_start" sourceRef="start_1" targetRef="task_receive_order" />
    <bpmn:sequenceFlow id="flow_to_gateway" sourceRef="task_receive_order" targetRef="gateway_order_type" />
    <bpmn:sequenceFlow id="flow_standard" name="标准" sourceRef="gateway_order_type" targetRef="task_standard_process">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${orderType == 'standard'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="flow_express" name="加急" sourceRef="gateway_order_type" targetRef="task_express_process">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${orderType == 'express'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="flow_vip" name="VIP" sourceRef="gateway_order_type" targetRef="task_vip_process">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${orderType == 'vip'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="flow_standard_to_link" sourceRef="task_standard_process" targetRef="throw_link_to_approval" />
    <bpmn:sequenceFlow id="flow_express_to_link" sourceRef="task_express_process" targetRef="throw_link_to_shipping" />
    <bpmn:sequenceFlow id="flow_vip_to_link" sourceRef="task_vip_process" targetRef="throw_link_to_complete" />
    <bpmn:sequenceFlow id="flow_catch_approval" sourceRef="catch_link_approval" targetRef="task_approval" />
    <bpmn:sequenceFlow id="flow_approval_to_link" sourceRef="task_approval" targetRef="throw_link_from_approval" />
    <bpmn:sequenceFlow id="flow_catch_shipping" sourceRef="catch_link_shipping" targetRef="task_shipping" />
    <bpmn:sequenceFlow id="flow_shipping_notify" sourceRef="task_shipping" targetRef="task_notify" />
    <bpmn:sequenceFlow id="flow_notify_to_link" sourceRef="task_notify" targetRef="throw_link_to_complete_2" />
    <bpmn:sequenceFlow id="flow_catch_complete" sourceRef="catch_link_complete" targetRef="task_finalize" />
    <bpmn:sequenceFlow id="flow_finalize_end" sourceRef="task_finalize" targetRef="end_1" />
    <bpmn:sequenceFlow id="flow_catch_multi" sourceRef="catch_link_multi_target" targetRef="task_multi_handler" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_definitions_link_events" name="BPMNDiagram">
    <bpmndi:BPMNPlane id="BPMNPlane_definitions_link_events" bpmnElement="process_link_events">
      <bpmndi:BPMNShape id="process_link_events_di" bpmnElement="process_link_events">
        <dc:Bounds x="12" y="12" width="582" height="538" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="start_1_di" bpmnElement="start_1">
        <dc:Bounds x="12" y="268" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="15" y="308" width="30" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_receive_order_di" bpmnElement="task_receive_order">
        <dc:Bounds x="88" y="246" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="88" y="246" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="gateway_order_type_di" bpmnElement="gateway_order_type">
        <dc:Bounds x="242.5" y="261" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="239.5" y="243" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_standard_process_di" bpmnElement="task_standard_process">
        <dc:Bounds x="408" y="333.5" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="408" y="333.5" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="throw_link_to_approval_di" bpmnElement="throw_link_to_approval">
        <dc:Bounds x="528" y="355.5" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="525" y="395.5" width="42" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_express_process_di" bpmnElement="task_express_process">
        <dc:Bounds x="408" y="433.5" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="408" y="433.5" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="throw_link_to_shipping_di" bpmnElement="throw_link_to_shipping">
        <dc:Bounds x="528" y="455.5" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="525" y="495.5" width="42" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_vip_process_di" bpmnElement="task_vip_process">
        <dc:Bounds x="408" y="233.5" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="408" y="233.5" width="49" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="throw_link_to_complete_di" bpmnElement="throw_link_to_complete">
        <dc:Bounds x="528" y="255.5" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="525" y="295.5" width="42" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="catch_link_approval_di" bpmnElement="catch_link_approval">
        <dc:Bounds x="12" y="468" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2" y="508" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_approval_di" bpmnElement="task_approval">
        <dc:Bounds x="88" y="446" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="88" y="446" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="throw_link_from_approval_di" bpmnElement="throw_link_from_approval">
        <dc:Bounds x="208" y="468" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="205" y="508" width="42" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="catch_link_shipping_di" bpmnElement="catch_link_shipping">
        <dc:Bounds x="12" y="68" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2" y="108" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_shipping_di" bpmnElement="task_shipping">
        <dc:Bounds x="88" y="46" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="88" y="46" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_notify_di" bpmnElement="task_notify">
        <dc:Bounds x="208" y="46" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="208" y="46" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="throw_link_to_complete_2_di" bpmnElement="throw_link_to_complete_2">
        <dc:Bounds x="338" y="68" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="335" y="108" width="42" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="catch_link_complete_di" bpmnElement="catch_link_complete">
        <dc:Bounds x="12" y="368" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2" y="408" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_finalize_di" bpmnElement="task_finalize">
        <dc:Bounds x="88" y="346" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="88" y="346" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="end_1_di" bpmnElement="end_1">
        <dc:Bounds x="208" y="368" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="211" y="408" width="30" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="throw_link_multi_target_1_di" bpmnElement="throw_link_multi_target_1">
        <dc:Bounds x="22" y="12" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="22.5" y="52" width="35" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="catch_link_multi_target_di" bpmnElement="catch_link_multi_target">
        <dc:Bounds x="12" y="168" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2" y="208" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_multi_handler_di" bpmnElement="task_multi_handler">
        <dc:Bounds x="88" y="146" width="100" height="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="88" y="146" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="flow_start_di" bpmnElement="flow_start">
        <di:waypoint x="48" y="286" />
        <di:waypoint x="88" y="286" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_to_gateway_di" bpmnElement="flow_to_gateway">
        <di:waypoint x="188" y="286" />
        <di:waypoint x="242.5" y="286" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_standard_di" bpmnElement="flow_standard">
        <di:waypoint x="292.5" y="286" />
        <di:waypoint x="328" y="286" />
        <di:waypoint x="328" y="373.5" />
        <di:waypoint x="408" y="373.5" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="274" y="345" width="50" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_express_di" bpmnElement="flow_express">
        <di:waypoint x="280" y="298.5" />
        <di:waypoint x="318" y="298.5" />
        <di:waypoint x="318" y="473.5" />
        <di:waypoint x="408" y="473.5" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="264" y="405" width="50" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_vip_di" bpmnElement="flow_vip">
        <di:waypoint x="280" y="273.5" />
        <di:waypoint x="408" y="273.5" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="319" y="255.5" width="50" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_standard_to_link_di" bpmnElement="flow_standard_to_link">
        <di:waypoint x="508" y="373.5" />
        <di:waypoint x="528" y="373.5" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_express_to_link_di" bpmnElement="flow_express_to_link">
        <di:waypoint x="508" y="473.5" />
        <di:waypoint x="528" y="473.5" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_vip_to_link_di" bpmnElement="flow_vip_to_link">
        <di:waypoint x="508" y="273.5" />
        <di:waypoint x="528" y="273.5" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_catch_approval_di" bpmnElement="flow_catch_approval">
        <di:waypoint x="48" y="486" />
        <di:waypoint x="88" y="486" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_approval_to_link_di" bpmnElement="flow_approval_to_link">
        <di:waypoint x="188" y="486" />
        <di:waypoint x="208" y="486" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_catch_shipping_di" bpmnElement="flow_catch_shipping">
        <di:waypoint x="48" y="86" />
        <di:waypoint x="88" y="86" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_shipping_notify_di" bpmnElement="flow_shipping_notify">
        <di:waypoint x="188" y="86" />
        <di:waypoint x="208" y="86" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_notify_to_link_di" bpmnElement="flow_notify_to_link">
        <di:waypoint x="308" y="86" />
        <di:waypoint x="338" y="86" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_catch_complete_di" bpmnElement="flow_catch_complete">
        <di:waypoint x="48" y="386" />
        <di:waypoint x="88" y="386" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_finalize_end_di" bpmnElement="flow_finalize_end">
        <di:waypoint x="188" y="386" />
        <di:waypoint x="208" y="386" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_catch_multi_di" bpmnElement="flow_catch_multi">
        <di:waypoint x="48" y="186" />
        <di:waypoint x="88" y="186" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
