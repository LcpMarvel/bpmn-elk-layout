{
  "id": "definitions_data_io_specification",
  "bpmn": {
    "targetNamespace": "http://example.com/test-data-io",
    "exporter": "ELK-BPMN Test Generator",
    "exporterVersion": "1.0"
  },
  "layoutOptions": {
    "elk.algorithm": "layered",
    "elk.direction": "RIGHT",
    "elk.spacing.nodeNode": 60,
    "elk.layered.spacing.nodeNodeBetweenLayers": 100
  },
  "children": [
    {
      "id": "process_data_io",
      "bpmn": {
        "type": "process",
        "name": "数据IO规范测试",
        "isExecutable": true,
        "ioSpecification": {
          "dataInputs": [
            { "id": "process_input_order", "name": "订单数据" },
            { "id": "process_input_customer", "name": "客户信息" }
          ],
          "dataOutputs": [
            { "id": "process_output_result", "name": "处理结果" },
            { "id": "process_output_report", "name": "处理报告" }
          ],
          "inputSets": [
            { "id": "input_set_1", "name": "标准输入集", "dataInputRefs": ["process_input_order", "process_input_customer"] }
          ],
          "outputSets": [
            { "id": "output_set_1", "name": "标准输出集", "dataOutputRefs": ["process_output_result", "process_output_report"] }
          ]
        }
      },
      "children": [
        {
          "id": "start_1",
          "width": 36, "height": 36,
          "bpmn": {
            "type": "startEvent",
            "eventDefinitionType": "none",
            "name": "开始"
          },
          "labels": [{ "text": "开始" }]
        },
        {
          "id": "data_input_order",
          "width": 36, "height": 50,
          "bpmn": {
            "type": "dataObjectReference",
            "name": "订单数据",
            "dataObjectRef": "dataObject_order"
          },
          "labels": [{ "text": "订单数据" }]
        },
        {
          "id": "data_input_customer",
          "width": 36, "height": 50,
          "bpmn": {
            "type": "dataObjectReference",
            "name": "客户信息",
            "dataObjectRef": "dataObject_customer"
          },
          "labels": [{ "text": "客户信息" }]
        },
        {
          "id": "task_validate",
          "width": 100, "height": 80,
          "bpmn": {
            "type": "serviceTask",
            "name": "验证数据",
            "ioSpecification": {
              "dataInputs": [
                { "id": "task_validate_input_1", "name": "待验证数据" }
              ],
              "dataOutputs": [
                { "id": "task_validate_output_1", "name": "验证结果" }
              ],
              "inputSets": [
                { "id": "task_validate_input_set", "dataInputRefs": ["task_validate_input_1"] }
              ],
              "outputSets": [
                { "id": "task_validate_output_set", "dataOutputRefs": ["task_validate_output_1"] }
              ]
            }
          },
          "labels": [{ "text": "验证数据" }]
        },
        {
          "id": "data_validation_result",
          "width": 36, "height": 50,
          "bpmn": {
            "type": "dataObjectReference",
            "name": "验证结果",
            "dataObjectRef": "dataObject_validation"
          },
          "labels": [{ "text": "验证结果" }]
        },
        {
          "id": "task_process",
          "width": 100, "height": 80,
          "bpmn": {
            "type": "serviceTask",
            "name": "处理订单",
            "ioSpecification": {
              "dataInputs": [
                { "id": "task_process_input_1", "name": "订单" },
                { "id": "task_process_input_2", "name": "客户" }
              ],
              "dataOutputs": [
                { "id": "task_process_output_1", "name": "处理后订单" }
              ],
              "inputSets": [
                { "id": "task_process_input_set", "dataInputRefs": ["task_process_input_1", "task_process_input_2"] }
              ],
              "outputSets": [
                { "id": "task_process_output_set", "dataOutputRefs": ["task_process_output_1"] }
              ]
            }
          },
          "labels": [{ "text": "处理订单" }]
        },
        {
          "id": "data_processed_order",
          "width": 36, "height": 50,
          "bpmn": {
            "type": "dataObjectReference",
            "name": "已处理订单",
            "dataObjectRef": "dataObject_processed",
            "dataState": {
              "name": "已处理"
            }
          },
          "labels": [{ "text": "已处理订单" }]
        },
        {
          "id": "task_generate_report",
          "width": 100, "height": 80,
          "bpmn": {
            "type": "serviceTask",
            "name": "生成报告",
            "ioSpecification": {
              "dataInputs": [
                { "id": "task_report_input_1", "name": "订单数据" }
              ],
              "dataOutputs": [
                { "id": "task_report_output_1", "name": "报告" }
              ],
              "inputSets": [
                { "id": "task_report_input_set", "dataInputRefs": ["task_report_input_1"] }
              ],
              "outputSets": [
                { "id": "task_report_output_set", "dataOutputRefs": ["task_report_output_1"] }
              ]
            }
          },
          "labels": [{ "text": "生成报告" }]
        },
        {
          "id": "data_store_orders",
          "width": 50, "height": 50,
          "bpmn": {
            "type": "dataStoreReference",
            "name": "订单数据库"
          },
          "labels": [{ "text": "订单数据库" }]
        },
        {
          "id": "data_output_report",
          "width": 36, "height": 50,
          "bpmn": {
            "type": "dataObjectReference",
            "name": "处理报告",
            "dataObjectRef": "dataObject_report"
          },
          "labels": [{ "text": "处理报告" }]
        },
        {
          "id": "task_notify",
          "width": 100, "height": 80,
          "bpmn": {
            "type": "sendTask",
            "name": "发送通知"
          },
          "labels": [{ "text": "发送通知" }]
        },
        {
          "id": "end_1",
          "width": 36, "height": 36,
          "bpmn": {
            "type": "endEvent",
            "eventDefinitionType": "none",
            "name": "结束"
          },
          "labels": [{ "text": "结束" }]
        }
      ],
      "edges": [
        { "id": "flow_1", "sources": ["start_1"], "targets": ["task_validate"], "bpmn": { "type": "sequenceFlow" } },
        { "id": "flow_2", "sources": ["task_validate"], "targets": ["task_process"], "bpmn": { "type": "sequenceFlow" } },
        { "id": "flow_3", "sources": ["task_process"], "targets": ["task_generate_report"], "bpmn": { "type": "sequenceFlow" } },
        { "id": "flow_4", "sources": ["task_generate_report"], "targets": ["task_notify"], "bpmn": { "type": "sequenceFlow" } },
        { "id": "flow_5", "sources": ["task_notify"], "targets": ["end_1"], "bpmn": { "type": "sequenceFlow" } },
        {
          "id": "data_assoc_order_to_validate",
          "sources": ["data_input_order"],
          "targets": ["task_validate"],
          "bpmn": { "type": "dataInputAssociation" }
        },
        {
          "id": "data_assoc_customer_to_process",
          "sources": ["data_input_customer"],
          "targets": ["task_process"],
          "bpmn": { "type": "dataInputAssociation" }
        },
        {
          "id": "data_assoc_validate_to_result",
          "sources": ["task_validate"],
          "targets": ["data_validation_result"],
          "bpmn": { "type": "dataOutputAssociation" }
        },
        {
          "id": "data_assoc_result_to_process",
          "sources": ["data_validation_result"],
          "targets": ["task_process"],
          "bpmn": { "type": "dataInputAssociation" }
        },
        {
          "id": "data_assoc_process_to_order",
          "sources": ["task_process"],
          "targets": ["data_processed_order"],
          "bpmn": { "type": "dataOutputAssociation" }
        },
        {
          "id": "data_assoc_order_to_report",
          "sources": ["data_processed_order"],
          "targets": ["task_generate_report"],
          "bpmn": { "type": "dataInputAssociation" }
        },
        {
          "id": "data_assoc_process_to_store",
          "sources": ["task_process"],
          "targets": ["data_store_orders"],
          "bpmn": { "type": "dataOutputAssociation" }
        },
        {
          "id": "data_assoc_report_to_output",
          "sources": ["task_generate_report"],
          "targets": ["data_output_report"],
          "bpmn": { "type": "dataOutputAssociation" }
        },
        {
          "id": "data_assoc_report_to_notify",
          "sources": ["data_output_report"],
          "targets": ["task_notify"],
          "bpmn": { "type": "dataInputAssociation" }
        }
      ]
    }
  ],
  "dataObjects": [
    { "id": "dataObject_order", "name": "订单" },
    { "id": "dataObject_customer", "name": "客户" },
    { "id": "dataObject_validation", "name": "验证结果" },
    { "id": "dataObject_processed", "name": "已处理订单" },
    { "id": "dataObject_report", "name": "报告" }
  ]
}
